<%= search_form_for @q, html: {class: 'form-horizontal', id: 'searchForm'} do |f| %>
  <div class="form-body">
    <div class="form-group form-md-line-input">
      <div class="col-md-4">
        <div class="row">
          <label class="col-md-4 control-label">Ngày/tháng</label>
          <div class="col-md-8">
            <%= f.search_field :created_at_gteq, as: :datepicker, id: 'month_year', class: 'form-control date-picker', :placeholder => "dd/mm/yyyy", 'data-date-format': 'dd/mm/yyyy', value: params[:q].present? && params[:q][:created_at_gteq].present? ? params[:q][:created_at_gteq] : '' %>
            <div class="form-control-focus"></div>
          </div>
        </div>
      </div>
      <div style="display: none;">
        <%= f.search_field :change_type_eq %>
      </div>
      <div class="col-md-8">
        <label class="col-md-4 control-label">Hình thức</label>
        <div class="md-radio-inline">
          <div class="md-radio">
            <input id="radio1" name="change_type" class="md-radiobtn" value="0" <% if params[:q].present? &&  params[:q][:change_type_eq] == "0" %> checked="&quot;checked&quot;" <% end %> type="radio">
            <label for="radio1">
              <span></span>
              <span class="check"></span>
              <span class="box"></span> Lãi
            </label>
          </div>
          <div class="md-radio">
            <input id="radio2" name="change_type" class="md-radiobtn" value="1" <% if params[:q].present? && params[:q][:change_type_eq] == "1" %> checked="&quot;checked&quot;" <% end %> type="radio">
            <label for="radio2">
              <span class="inc"></span>
              <span class="check"></span>
              <span class="box"></span>  Lỗ
            </label>
          </div>
          <div class="md-radio">
            <input id="radio3" name="change_type" class="md-radiobtn" value="2" <% if params[:q].present? && params[:q][:change_type_eq] == "2" %> checked="&quot;checked&quot;" <% end %> type="radio">
            <label for="radio3">
              <span class="inc"></span>
              <span class="check"></span>
              <span class="box"></span> Nạp
            </label>
          </div>
          <div class="md-radio">
            <input id="radio4" name="change_type" class="md-radiobtn" value="3" <% if params[:q].present? && params[:q][:change_type_eq] == "3" %> checked="&quot;checked&quot;" <% end %> type="radio">
            <label for="radio4">
              <span class="inc"></span>
              <span class="check"></span>
              <span class="box"></span> Rút
            </label>
          </div>
          <div class="md-radio">
            <input id="radio5" name="change_type" class="md-radiobtn" value="4" <% if params[:q].present? && params[:q][:change_type_eq] == "4" %> checked="&quot;checked&quot;" <% end %> type="radio">
            <label for="radio5">
              <span class="inc"></span>
              <span class="check"></span>
              <span class="box"></span> Nạp tk phí
            </label>
          </div>
          <div class="md-radio">
            <input id="radio6" name="change_type" class="md-radiobtn" value="5" <% if params[:q].present? && params[:q][:change_type_eq] == "5" %> checked="&quot;checked&quot;" <% end %> type="radio">
            <label for="radio6">
              <span class="inc"></span>
              <span class="check"></span>
              <span class="box"></span> Trừ phí
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>

<script>
  $(document).ready(function(){
    // Check change to submit form.
    $("#month_year").change(function(){
      $("#searchForm").submit()
    });

    /* DatePicker */
    if (jQuery().datepicker) {
      $('.date-picker').datepicker({
        rtl: App.isRTL(),
        orientation: "left",
        autoclose: true
      });
    }

    $("input[name=change_type]").on('change', function() {
      $('#q_change_type_eq').attr('value', $(this).val())
      $("#searchForm").submit();
    });
  });
</script>